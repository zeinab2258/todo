# پروژه API لیست کارها (To-Do List)

این پروژه یک API قدرتمند و ساده برای مدیریت کارها (To-Do) است که با استفاده از **Node.js**, **Express**, و **MongoDB** ساخته شده است. این API تمام عملیات پایه‌ای CRUD (Create, Read, Update, Delete) را برای مدیریت تسک‌ها فراهم می‌کند.

[](https://nodejs.org/)
[](https://expressjs.com/)
[](https://www.mongodb.com/)
-----

## ✨ ویژگی‌ها

  * **RESTful API**: طراحی شده بر اساس اصول REST.
  * **عملیات CRUD کامل**:
      * ایجاد تسک جدید (Create)
      * خواندن لیست تسک‌ها و یک تسک خاص (Read)
      * به‌روزرسانی تسک‌ها (Update)
      * حذف تسک‌ها (Delete)
  * **مدیریت داده با Mongoose**: استفاده از اسکیمای Mongoose برای اعتبارسنجی و تعامل آسان با MongoDB.
  * **مدیریت متغیرهای محیطی**: استفاده از فایل `.env` برای مدیریت اطلاعات حساس.
  * **کدنویسی تمیز و ساختاریافته**: تفکیک منطق برنامه در کنترلرها، مسیرها و مدل‌ها.

-----

## 🛠️ پیش‌نیازها

برای اجرای این پروژه به موارد زیر نیاز دارید:

  * **Node.js**: نسخه 14 یا بالاتر.
  * **MongoDB**: یک دیتابیس MongoDB (می‌تواند به صورت محلی یا از طریق سرویس‌های ابری مانند [MongoDB Atlas](https://www.mongodb.com/cloud/atlas) باشد).
  * **NPM** یا **Yarn**: برای مدیریت پکیج‌ها.

-----

## ⚙️ نصب و راه‌اندازی

برای آماده‌سازی و اجرای پروژه، مراحل زیر را دنبال کنید:

1.  **کلون کردن ریپازیتوری:**

    ```bash
    git clone https://github.com/your-username/todo-api.git
    cd todo-api
    ```

2.  **نصب وابستگی‌ها:**
    دستور زیر را برای نصب تمام پکیج‌های مورد نیاز اجرا کنید:

    ```bash
    npm install
    ```

3.  **ایجاد فایل متغیرهای محیطی:**
    یک فایل با نام `.env` در ریشه اصلی پروژه ایجاد کرده و محتوای زیر را در آن کپی کنید.

    ```env
    PORT=5000
    MONGO_URI=mongodb://localhost:27017/todolist
    ```

    **نکته:** آدرس `MONGO_URI` را با آدرس اتصال به دیتابیس MongoDB خود جایگزین کنید.

-----

## 🚀 اجرای پروژه

برای اجرای سرور از دستورات زیر استفاده کنید:

  * **حالت توسعه (Development):**
    این دستور سرور را با استفاده از `nodemon` اجرا می‌کند که با هر تغییر در کدها، سرور به صورت خودکار ری‌استارت می‌شود.

    ```bash
    npm run dev
    ```

  * **حالت محصول (Production):**
    این دستور سرور را به صورت عادی اجرا می‌کند.

    ```bash
    npm start
    ```

پس از اجرای موفقیت‌آمیز، سرور روی پورتی که در فایل `.env` مشخص شده (مثلاً 5000) فعال خواهد شد و پیام `Server running on port 5000` در کنسول نمایش داده می‌شود.

-----

## 📚 مستندات API

تمامی Endpoint ها با پیشوند `/api/todos` در دسترس هستند.

### ۱. گرفتن تمام تسک‌ها

  * **Method**: `GET`
  * **Endpoint**: `/api/todos`
  * **توضیحات**: لیستی از تمام تسک‌های موجود را برمی‌گرداند.
  * **پاسخ موفقیت (Success Response - 200 OK):**
    ```json
    {
      "success": true,
      "count": 2,
      "data": [
        {
          "_id": "63f8d3b4b8d7a1e8c7e3b2a1",
          "title": "خرید شیر",
          "description": "از فروشگاه سر کوچه",
          "completed": false,
          "createdAt": "2023-02-24T12:30:44.888Z"
        },
        {
          "_id": "63f8d3bfb8d7a1e8c7e3b2a3",
          "title": "انجام پروژه نود جی اس",
          "description": "",
          "completed": true,
          "createdAt": "2023-02-24T12:30:55.744Z"
        }
      ]
    }
    ```

### ۲. ایجاد یک تسک جدید

  * **Method**: `POST`
  * **Endpoint**: `/api/todos`
  * **توضیحات**: یک تسک جدید ایجاد می‌کند.
  * **بدنه درخواست (Request Body):**
    ```json
    {
      "title": "ورزش کردن",
      "description": "رفتن به باشگاه ساعت ۵ عصر"
    }
    ```
  * **پاسخ موفقیت (Success Response - 201 Created):**
    ```json
    {
      "success": true,
      "data": {
        "_id": "63f8d4e4f1c9d2f2d9e9b4f4",
        "title": "ورزش کردن",
        "description": "رفتن به باشگاه ساعت ۵ عصر",
        "completed": false,
        "createdAt": "2023-02-24T12:35:48.345Z"
      }
    }
    ```

### ۳. گرفتن یک تسک با شناسه

  * **Method**: `GET`
  * **Endpoint**: `/api/todos/:id`
  * **توضیحات**: اطلاعات یک تسک مشخص را بر اساس `id` آن برمی‌گرداند.
  * **پاسخ موفقیت (Success Response - 200 OK):**
    ```json
    {
      "success": true,
      "data": {
        "_id": "63f8d3b4b8d7a1e8c7e3b2a1",
        "title": "خرید شیر",
        "description": "از فروشگاه سر کوچه",
        "completed": false,
        "createdAt": "2023-02-24T12:30:44.888Z"
      }
    }
    ```

### ۴. به‌روزرسانی یک تسک

  * **Method**: `PUT`
  * **Endpoint**: `/api/todos/:id`
  * **توضیحات**: یک تسک مشخص را به‌روزرسانی می‌کند.
  * **بدنه درخواست (Request Body):**
    ```json
    {
      "title": "خرید شیر کم چرب",
      "completed": true
    }
    ```
  * **پاسخ موفقیت (Success Response - 200 OK):**
    ```json
    {
      "success": true,
      "data": {
        "_id": "63f8d3b4b8d7a1e8c7e3b2a1",
        "title": "خرید شیر کم چرب",
        "description": "از فروشگاه سر کوچه",
        "completed": true,
        "createdAt": "2023-02-24T12:30:44.888Z"
      }
    }
    ```

### ۵. حذف یک تسک

  * **Method**: `DELETE`
  * **Endpoint**: `/api/todos/:id`
  * **توضیحات**: یک تسک مشخص را حذف می‌کند.
  * **پاسخ موفقیت (Success Response - 200 OK):**
    ```json
    {
      "success": true,
      "data": {}
    }
    ```

-----

## 📁 ساختار پروژه

ساختار فایل‌ها و پوشه‌ها به گونه‌ای طراحی شده است که کدها منظم و قابل توسعه باشند:

```
/todo-api
|-- /controllers        # منطق اصلی و توابع کنترلر
|-- /models             # اسکیمای داده‌های Mongoose
|-- /routes             # مسیرهای API
|-- .env                # متغیرهای محیطی
|-- .gitignore          # نادیده گرفتن فایل‌ها توسط Git
|-- package.json        # اطلاعات پروژه و پکیج‌ها
|-- server.js           # فایل اصلی برای راه‌اندازی سرور
|-- README.md           # همین فایل!
```